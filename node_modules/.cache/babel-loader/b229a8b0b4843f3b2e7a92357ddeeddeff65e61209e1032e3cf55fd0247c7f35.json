{"ast":null,"code":"var _jsxFileName = \"/Users/Meltwater_User/Documents/GitHub/FnR-FE/src/Pages/Search/RSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\nimport styles from './styles.module.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport LoadingSpinner from './Loading';\nimport { faSearch, faTimesCircle, faArrowLeft, faSignOutAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RSearch = () => {\n  _s();\n  const [URL, setSearchQuery] = useState('');\n  const [Result, setSearchResult] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [keywords, setKeywords] = useState('');\n  const [currentTimestamp, setCurrentTimestamp] = useState('');\n  const [dynamicDateStart, setDynamicDateStart] = useState('');\n  const [dynamicDateEnd, setDynamicDateEnd] = useState('');\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [revsummary, setRevsummary] = useState('');\n  const [revaccurl, setRevaccurl] = useState('');\n  const [revdescription, setRevdescription] = useState('');\n  const [ticketCreated, setTicketCreated] = useState(false);\n  const [ticketkey, setTicketKey] = useState('');\n  const navigate = useNavigate(); // Use useNavigate hook\n\n  // useEffect(() => {\n  //     // Fetch the backend variables when the component mounts\n  //     axios.get('http://localhost:5001/dates')\n  //         .then(response => {\n  //             setCurrentTimestamp(response.data.currentTimestamp);\n  //             setDynamicDateStart(response.data.dynamicDateStart);\n  //             setDynamicDateEnd(response.data.dynamicDateEnd);\n  //         })\n  //         .catch(error => console.error('Error fetching dates:', error));\n  // }, []);\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/dates`).then(response => {\n      setCurrentTimestamp(response.data.currentTimestamp);\n      setDynamicDateStart(response.data.dynamicDateStart);\n      setDynamicDateEnd(response.data.dynamicDateEnd);\n    }).catch(error => console.error('Error fetching dates:', error));\n  }, []);\n  const ensureAsterisk = url => {\n    if (!url.endsWith('*')) {\n      return `${url}*`;\n    }\n    return url;\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    const formattedURL = ensureAsterisk(URL);\n    console.log(\"Searching reviews for:\", formattedURL);\n    let apiUrl;\n    let requestBody = {\n      Query: formattedURL\n    };\n    if (keywords.trim() === '') {\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/reviewsurl`;\n    } else {\n      apiUrl = `${process.env.REACT_APP_BACKEND_URL}/reviewskeywords`;\n      requestBody.Words = keywords;\n    }\n    setIsLoading(true);\n    axios.post(apiUrl, requestBody).then(response => {\n      console.log(response.data);\n      if (Array.isArray(response.data)) {\n        setSearchResult(response.data);\n      } else {\n        console.error('Expected an array but received:', response.data);\n        setSearchResult([]);\n      }\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n      setSearchResult([]);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  };\n  const handleClear = () => {\n    setSearchQuery('');\n    setSearchResult('');\n    setKeywords('');\n    window.location.reload();\n  };\n  const handleLogout = () => {\n    // Clear session data here, e.g., remove tokens from localStorage or cookies\n    localStorage.removeItem('authToken'); // Example for clearing localStorage\n    navigate('/'); // Navigate to the login page\n  };\n  const handleRaiseTicket = () => {\n    setRevsummary('DON\\'T PICK THIS TICKET');\n    setRevaccurl('');\n    setRevdescription('\\nHi Team, \\n\\nDON\\'T PICK THIS TICKET REVIEW \\nLink: ' + URL + '\\n\\nThank you');\n    setIsFormOpen(true); // Open the form\n    setTicketCreated(false);\n  };\n  const handleFormClear = () => {\n    setRevsummary('');\n    setRevaccurl('');\n    setRevdescription('');\n    setIsFormOpen(true); // Open the form\n  };\n  const handleCloseForm = () => {\n    setIsFormOpen(false); // Close the form\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/reviewticket`, {\n        revsummary: revsummary,\n        revaccurl: revaccurl,\n        revdescription: revdescription\n      });\n      console.log(\"Form submitted\");\n      setTicketCreated(true);\n      setTicketKey(response.data.key);\n    } catch (error) {\n      console.error(\"There was an error submitting the ticket!\", error);\n    }\n    handleCloseForm();\n  };\n\n  // refreshes page after the ticket is created \n  const refreshpage = () => {\n    window.location.href = '/RSearch';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.dateDisplay}`,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" Start Date : \", new Date(dynamicDateStart).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" End Date   : \", new Date(dynamicDateEnd).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => window.history.back(),\n      className: styles.backButton,\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faArrowLeft\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), \" Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: styles.logoutButton,\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faSignOutAlt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), \" Logout\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.searchContainer,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Search reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.inputGroup,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.inputWrapper,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSearch,\n            className: styles.searchIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter the source or article URL ....\",\n            value: URL,\n            onChange: e => setSearchQuery(e.target.value),\n            className: styles.inputField,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSearch,\n            className: styles.searchIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter the keywords ....\",\n            value: keywords,\n            onChange: e => setKeywords(e.target.value),\n            className: styles.inputField1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), URL && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleClear,\n            className: styles.clearButton,\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faTimesCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: styles.submitButton,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), Result && !isLoading ? Array.isArray(Result) && Result.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.resultContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Search Result:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }, this), Result.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: doc.originalUrl,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: doc.body || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 105\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Published Date: \", new Date(doc.date).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Source: \", doc.source]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Source URL: \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: doc.sourceUrl,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: doc.sourceUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 52\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 43\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 33\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }, this) : !isFormOpen && !ticketCreated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.resultContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Results Found. Would you like to raise a ticket!?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleRaiseTicket,\n          className: styles.raiseTicketButton,\n          children: \"Raise a Ticket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.resultContainer,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this), isFormOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.formOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.formContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCloseForm,\n          className: styles.closeButton,\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"You are raising a ticket for review content!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleFormSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Summary: *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 59\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: revsummary,\n              onChange: e => setRevsummary(e.target.value),\n              className: styles.ticketinput1,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Issue type: *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 62\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: styles.selectField,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"support\",\n                children: \"Support\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Klear-Support\",\n                disabled: true,\n                children: \"Klear Support\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Emailed-request\",\n                disabled: true,\n                children: \"Emailed request\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Account / Opportunity URL: *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 77\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: revaccurl,\n              onChange: e => setRevaccurl(e.target.value),\n              className: styles.ticketinput1,\n              placeholder: \"Enter the Account / opportunity URL ....\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description: *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 63\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: revdescription,\n              onChange: e => setRevdescription(e.target.value),\n              className: styles.ticketinputdes,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.formActions,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"reset\",\n              className: styles.formclrButton,\n              onClick: handleFormClear,\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: styles.formsubButton,\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }, this), ticketCreated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.resultContainer2,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Ticket Created Successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Ticket Number: \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `https://meltwater.atlassian.net/browse/${ticketkey}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: ticketkey\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: refreshpage,\n        className: styles.formclrButton,\n        children: \"OK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 9\n  }, this);\n};\n_s(RSearch, \"tfpJ0WHo7MivvfZPWUJA0Jv3yQk=\", false, function () {\n  return [useNavigate];\n});\n_c = RSearch;\nexport default RSearch;\nvar _c;\n$RefreshReg$(_c, \"RSearch\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","styles","FontAwesomeIcon","LoadingSpinner","faSearch","faTimesCircle","faArrowLeft","faSignOutAlt","faTimes","jsxDEV","_jsxDEV","RSearch","_s","URL","setSearchQuery","Result","setSearchResult","isLoading","setIsLoading","keywords","setKeywords","currentTimestamp","setCurrentTimestamp","dynamicDateStart","setDynamicDateStart","dynamicDateEnd","setDynamicDateEnd","isFormOpen","setIsFormOpen","revsummary","setRevsummary","revaccurl","setRevaccurl","revdescription","setRevdescription","ticketCreated","setTicketCreated","ticketkey","setTicketKey","navigate","get","process","env","REACT_APP_BACKEND_URL","then","response","data","catch","error","console","ensureAsterisk","url","endsWith","handleSubmit","event","preventDefault","formattedURL","log","apiUrl","requestBody","Query","trim","Words","post","Array","isArray","finally","handleClear","window","location","reload","handleLogout","localStorage","removeItem","handleRaiseTicket","handleFormClear","handleCloseForm","handleFormSubmit","key","refreshpage","href","children","className","dateDisplay","Date","toLocaleString","fileName","_jsxFileName","lineNumber","columnNumber","onClick","history","back","backButton","icon","logoutButton","searchContainer","onSubmit","inputGroup","inputWrapper","searchIcon","type","placeholder","value","onChange","e","target","inputField","required","inputField1","clearButton","submitButton","length","resultContainer","map","doc","index","originalUrl","rel","body","date","source","sourceUrl","raiseTicketButton","formOverlay","formContainer","closeButton","formGroup","ticketinput1","selectField","disabled","ticketinputdes","formActions","formclrButton","formsubButton","resultContainer2","_c","$RefreshReg$"],"sources":["/Users/Meltwater_User/Documents/GitHub/FnR-FE/src/Pages/Search/RSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\nimport styles from './styles.module.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport LoadingSpinner from './Loading';\nimport { faSearch, faTimesCircle, faArrowLeft, faSignOutAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nconst RSearch = () => {\n    const [URL, setSearchQuery] = useState('');\n    const [Result, setSearchResult] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [keywords, setKeywords] = useState('');\n    const [currentTimestamp, setCurrentTimestamp] = useState('');\n    const [dynamicDateStart, setDynamicDateStart] = useState('');\n    const [dynamicDateEnd, setDynamicDateEnd] = useState('');\n    const [isFormOpen, setIsFormOpen] = useState(false);\n    const [revsummary, setRevsummary] = useState('');\n    const [revaccurl, setRevaccurl] = useState('');\n    const [revdescription, setRevdescription] = useState('');\n    const [ticketCreated, setTicketCreated] = useState(false);\n    const [ticketkey, setTicketKey] = useState('');\n\n    const navigate = useNavigate(); // Use useNavigate hook\n\n    // useEffect(() => {\n    //     // Fetch the backend variables when the component mounts\n    //     axios.get('http://localhost:5001/dates')\n    //         .then(response => {\n    //             setCurrentTimestamp(response.data.currentTimestamp);\n    //             setDynamicDateStart(response.data.dynamicDateStart);\n    //             setDynamicDateEnd(response.data.dynamicDateEnd);\n    //         })\n    //         .catch(error => console.error('Error fetching dates:', error));\n    // }, []);\n    useEffect(() => {\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/dates`)\n            .then(response => {\n                setCurrentTimestamp(response.data.currentTimestamp);\n                setDynamicDateStart(response.data.dynamicDateStart);\n                setDynamicDateEnd(response.data.dynamicDateEnd);\n            })\n            .catch(error => console.error('Error fetching dates:', error));\n    }, []);\n\n    const ensureAsterisk = (url) => {\n        if (!url.endsWith('*')) {\n            return `${url}*`;\n        }\n        return url;\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const formattedURL = ensureAsterisk(URL);\n        console.log(\"Searching reviews for:\", formattedURL);\n\n        let apiUrl;\n        let requestBody = { Query: formattedURL };\n\n        if (keywords.trim() === '') {\n            apiUrl = `${process.env.REACT_APP_BACKEND_URL}/reviewsurl`;\n        } else {\n            apiUrl = `${process.env.REACT_APP_BACKEND_URL}/reviewskeywords`;\n            requestBody.Words = keywords;\n        }\n\n        setIsLoading(true);\n\n        axios.post(apiUrl, requestBody)\n            .then((response) => {\n                console.log(response.data);\n                if (Array.isArray(response.data)) {\n                    setSearchResult(response.data);\n                } else {\n                    console.error('Expected an array but received:', response.data);\n                    setSearchResult([]);\n                }\n            })\n            .catch((error) => {\n                console.error('Error fetching data:', error);\n                setSearchResult([]);\n            })\n            .finally(() => {\n                setIsLoading(false);\n            });\n    };\n\n    const handleClear = () => {\n        setSearchQuery('');\n        setSearchResult('');\n        setKeywords('');\n        window.location.reload();\n    };\n\n    const handleLogout = () => {\n        // Clear session data here, e.g., remove tokens from localStorage or cookies\n        localStorage.removeItem('authToken'); // Example for clearing localStorage\n        navigate('/'); // Navigate to the login page\n    };\n\n    const handleRaiseTicket = () => {\n        setRevsummary('DON\\'T PICK THIS TICKET');\n        setRevaccurl('');\n        setRevdescription('\\nHi Team, \\n\\nDON\\'T PICK THIS TICKET REVIEW \\nLink: ' + URL + '\\n\\nThank you');\n        setIsFormOpen(true); // Open the form\n        setTicketCreated(false);\n    };\n\n    const handleFormClear = () => {\n        setRevsummary('');\n        setRevaccurl('');\n        setRevdescription('');\n        setIsFormOpen(true); // Open the form\n    }\n\n\n    const handleCloseForm = () => {\n        setIsFormOpen(false); // Close the form\n    };\n\n    const handleFormSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/reviewticket`, {\n                revsummary: revsummary,\n                revaccurl: revaccurl,\n                revdescription: revdescription\n            });\n            console.log(\"Form submitted\");\n            setTicketCreated(true);\n            setTicketKey(response.data.key); \n        } catch (error) {\n            console.error(\"There was an error submitting the ticket!\", error);\n        }\n        handleCloseForm();\n    };\n\n    // refreshes page after the ticket is created \n    const refreshpage = () => {\n        window.location.href = '/RSearch';\n    };\n\n    return (\n        <div>\n            <div className={`${styles.dateDisplay}`}>\n                <p> Start Date : {new Date(dynamicDateStart).toLocaleString()}</p>\n                <p> End Date   : {new Date(dynamicDateEnd).toLocaleString()}</p>\n            </div>\n\n            {/* Back button */}\n            <button onClick={() => window.history.back()} className={styles.backButton}>\n                <FontAwesomeIcon icon={faArrowLeft} /> Back\n            </button>\n\n            {/* Logout button */}\n            <button onClick={handleLogout} className={styles.logoutButton}>\n                <FontAwesomeIcon icon={faSignOutAlt} /> Logout\n            </button>\n\n            <form className={styles.searchContainer} onSubmit={handleSubmit}>\n                <h2>Search reviews</h2>\n                <div className={styles.inputGroup}>\n                    <div className={styles.inputWrapper}>\n                        <FontAwesomeIcon icon={faSearch} className={styles.searchIcon} />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Enter the source or article URL ....\"\n                            value={URL}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            className={styles.inputField}\n                            required\n                        />\n                        <br></br>\n                        <br></br>\n                        <FontAwesomeIcon icon={faSearch} className={styles.searchIcon} />\n                        <input type=\"text\" placeholder=\"Enter the keywords ....\" value={keywords}\n                            onChange={(e) => setKeywords(e.target.value)} className={styles.inputField1} />\n                        {URL && (\n                            <button type=\"button\" onClick={handleClear} className={styles.clearButton}>\n                                <FontAwesomeIcon icon={faTimesCircle} />\n                            </button>\n                        )}\n                    </div>\n                </div>\n                <button type=\"submit\" className={styles.submitButton}>Search</button>\n\n                {/* {isLoading && <LoadingSpinner />} */}\n\n                {Result && !isLoading ? (\n                    Array.isArray(Result) && Result.length > 0 ? (\n                        <div className={styles.resultContainer}>\n                            <h3>Search Result:</h3>\n                            {Result.map((doc, index) => (\n                                <div key={index} className=\"document\">\n                                    <a href={doc.originalUrl} target=\"_blank\" rel=\"noopener noreferrer\"><h3>{doc.body || 'N/A'}</h3></a>\n                                    <p>Published Date: {new Date(doc.date).toLocaleString()}</p>\n                                    <p>Source: {doc.source}</p>\n                                    <p>Source URL: <a href={doc.sourceUrl} target=\"_blank\" rel=\"noopener noreferrer\">{doc.sourceUrl}</a></p>\n                                    <br /><hr></hr>\n                                </div>\n                            ))}\n                        </div>\n                    ) : (\n                        !isFormOpen && !ticketCreated && (\n                            <div className={styles.resultContainer}>\n                                <h3>No Results Found. Would you like to raise a ticket!?</h3>\n                                <button type=\"button\" onClick={handleRaiseTicket} className={styles.raiseTicketButton}>Raise a Ticket</button>\n                            </div>\n                        )\n                    )\n                ) : (\n                    <div className={styles.resultContainer}>\n                        <h3>{isLoading && <LoadingSpinner />}</h3>\n                    </div>\n                )}\n            </form>\n\n            {isFormOpen &&  (\n                <div className={styles.formOverlay}>\n                    <div className={styles.formContainer}>\n                        <button onClick={handleCloseForm} className={styles.closeButton}>\n                            <FontAwesomeIcon icon={faTimes} />\n                        </button>\n                        <h2>You are raising a ticket for review content!</h2>\n                        <form onSubmit={handleFormSubmit}>\n                            <div className={styles.formGroup}>\n                                <label>Summary: *</label> <br></br>\n                                <input\n                                    type=\"text\"\n                                    value={revsummary}\n                                    onChange={(e) => setRevsummary(e.target.value)}\n                                    className={styles.ticketinput1}\n                                    required\n                                />\n                            </div> <br /><br />\n                            <div className={styles.formGroup}>\n                                <label>Issue type: *</label> <br />\n                                <select className={styles.selectField}>\n                                    <option value=\"support\">Support</option>\n                                    <option value=\"Klear-Support\" disabled>Klear Support</option>\n                                    <option value=\"Emailed-request\" disabled>Emailed request</option>\n                                </select>\n                            </div> <br /><br />\n                            <div className={styles.formGroup}>\n                                <label>Account / Opportunity URL: *</label> <br />\n                                <input\n                                    type=\"url\"\n                                    value={revaccurl}\n                                    onChange={(e) => setRevaccurl(e.target.value)}\n                                    className={styles.ticketinput1}\n                                    placeholder='Enter the Account / opportunity URL ....'\n                                    required\n                                />\n                            </div> <br />\n                            <div className={styles.formGroup}>\n                                <label>Description: *</label> <br />\n                                <textarea\n                                    value={revdescription}\n                                    onChange={(e) => setRevdescription(e.target.value)}\n                                    className={styles.ticketinputdes}\n                                    required\n                                />\n                            </div> <br /><br />\n                            <div className={styles.formActions}>\n                                <button type=\"reset\" className={styles.formclrButton} onClick={handleFormClear}>Clear</button>\n                                <button type=\"submit\" className={styles.formsubButton}>Create</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )}\n\n            {ticketCreated && (\n                <div className={styles.resultContainer2}>\n                    <h3>Ticket Created Successfully!</h3>\n                    <p>\n                        Ticket Number: <a href={`https://meltwater.atlassian.net/browse/${ticketkey}`} target=\"_blank\" rel=\"noopener noreferrer\">{ticketkey}</a>\n                    </p>\n                    <button type=\"button\" onClick={refreshpage} className={styles.formclrButton}>OK</button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default RSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}